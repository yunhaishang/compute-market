spring.application.name=iExec

# ==================== 数据库配置 ====================
# H2 内存数据库配置
spring.datasource.url=jdbc:h2:mem:iexecdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# H2 控制台配置（开发环境）
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console

# JPA/Hibernate 配置
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true

# ==================== Web3j 区块链配置 ====================
# 本地链节点地址（Hardhat - 用于接收任务和更新状态）
web3j.client-address=http://localhost:8545

# 智能合约地址（本地链 - 部署后填写）
contract.address=0x5FbDB2315678afecb367f032d93F642f64180aa3

# 管理员私钥（用于回写链上状态，请妥善保管）
# 警告：生产环境不要在配置文件中明文存储私钥！
# Hardhat 账户 #0 的私钥
contract.admin.privatekey=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80

# ==================== Arbitrum Sepolia 配置 ====================
# Arbitrum Sepolia 测试网启用开关（true=启用真实计算, false=使用模拟模式）
arbitrum.sepolia.enabled=true

# Arbitrum Sepolia RPC 节点地址
# 选项1：使用 Infura（需要注册获取 PROJECT_ID：https://infura.io/）
arbitrum.sepolia.rpc-url=https://arbitrum-sepolia.infura.io/v3/86ca74cf1403406ab6947b7f92281cdf

# Arbitrum Sepolia 合约地址（如果在测试网也部署了相同合约）
# 留空则表示不在 Arbitrum 上部署合约，仅作为计算网络
arbitrum.sepolia.contract-address=

# Arbitrum Sepolia 私钥（用于提交任务到测试网）
# 钱包地址：0x5f5b0900BF7D55fD4ADE4F419039054d7eE89e3F
# 余额：0.05 ETH + 5 RLC
arbitrum.sepolia.privatekey=0x1ad1f1f2ce17dcf7792c3e009cc509d4621c1c9c04fa057609c2523e5d3f44da

# ==================== iExec 配置 ====================
# iExec 工作目录
iexec.workspace.dir=${IEXEC_WORKSPACE:/tmp/iexec-workspace}

# iExec 链网络（bellecour=主网, viviani=测试网）
# 注意：iExec 在 Arbitrum 上运行，但使用自己的侧链
iexec.chain=bellecour

# iExec 命令超时时间（秒）
iexec.command.timeout=300

# iExec 钱包私钥（用于调用 iExec CLI）
iexec.wallet.privatekey=${IEXEC_WALLET_KEY:}

# 模拟模式（true=使用模拟任务，false=使用真实iExec）
# 推荐开发阶段使用模拟模式
iexec.mock.enabled=true

# ==================== 任务监控配置 ====================
# 任务状态监控间隔（毫秒）
task.monitor.interval=30000

# 任务超时时间（毫秒，默认1小时）
task.monitor.timeout=3600000

# ==================== 日志配置 ====================
# 日志级别
logging.level.root=INFO
logging.level.com.blockchain.iExec=DEBUG
logging.level.org.web3j=DEBUG

# 日志输出格式
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ==================== 服务器配置 ====================
server.port=8080
server.servlet.context-path=/api

# ==================== Actuator 监控配置（可选）====================
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=always
