# é¡¹ç›®å¯åŠ¨ä¸é…ç½®æŒ‡å—

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å¯åŠ¨ Hardhat æœ¬åœ°èŠ‚ç‚¹

```bash
cd contracts
npx hardhat node
```

ä¿æŒæ­¤ç»ˆç«¯è¿è¡Œï¼Œæœ¬åœ°åŒºå—é“¾èŠ‚ç‚¹å°†åœ¨ `http://localhost:8545` ä¸Šè¿è¡Œã€‚

### 2. éƒ¨ç½²æ™ºèƒ½åˆçº¦

**æ–°å¼€ä¸€ä¸ªç»ˆç«¯ï¼š**

```bash
cd contracts
npx hardhat run scripts/deploy.ts --network localhost
```

**è®°å½•è¾“å‡ºçš„åˆçº¦åœ°å€**ï¼Œä¾‹å¦‚ï¼š`0x5FbDB2315678afecb367f032d93F642f64180aa3`

### 3. æ›´æ–°é…ç½®æ–‡ä»¶

#### å‰ç«¯é…ç½® (`frontend/.env`)

```env
VITE_CONTRACT_ADDRESS=0x5FbDB2315678afecb367f032d93F642f64180aa3
VITE_CHAIN_ID=31337
VITE_API_BASE_URL=http://localhost:8080/api
```

#### åç«¯é…ç½® (`backend/src/main/resources/application.properties`)

**åŸºç¡€é…ç½®ï¼š**
```properties
# æœ¬åœ° Hardhat é“¾é…ç½®
web3j.client-address=http://localhost:8545
contract.address=0x5FbDB2315678afecb367f032d93F642f64180aa3

# Arbitrum Sepolia æµ‹è¯•ç½‘é…ç½®
arbitrum.sepolia.enabled=true
arbitrum.sepolia.rpc-url=https://arbitrum-sepolia.infura.io/v3/YOUR_INFURA_PROJECT_ID
arbitrum.sepolia.privatekey=YOUR_WALLET_PRIVATE_KEY
```

**âš ï¸ é‡è¦ï¼šArbitrum é…ç½®è¯´æ˜**

é¡¹ç›®å·²é›†æˆçœŸå®çš„ Arbitrum Sepolia æµ‹è¯•ç½‘ï¼Œç”¨äºè·¨é“¾è®¡ç®—ä»»åŠ¡ã€‚å¦‚éœ€ä½¿ç”¨ï¼š

1. **è·å– Infura Project ID**:
   - è®¿é—® https://infura.io æ³¨å†Œè´¦å·
   - åˆ›å»ºæ–°é¡¹ç›®ï¼Œé€‰æ‹© Arbitrum Sepolia
   - å¤åˆ¶ Project ID æ›¿æ¢ `YOUR_INFURA_PROJECT_ID`

2. **é…ç½®é’±åŒ…ç§é’¥**:
   - ä½¿ç”¨ä¸“é—¨çš„æµ‹è¯•é’±åŒ…ï¼ˆä¸è¦ä½¿ç”¨ä¸»ç½‘é’±åŒ…ï¼‰
   - ç¡®ä¿é’±åŒ…åœ¨ Arbitrum Sepolia æœ‰è‡³å°‘ 0.01 ETH
   - è·å–æµ‹è¯• ETHï¼šhttps://faucet.quicknode.com/arbitrum/sepolia
   - å°†ç§é’¥ï¼ˆå«0xå‰ç¼€ï¼‰æ›¿æ¢ `YOUR_WALLET_PRIVATE_KEY`

3. **Gas è´¹ç”¨è¯´æ˜**:
   - æ¯ä¸ªä»»åŠ¡çº¦æ¶ˆè€— 0.0004-0.001 ETH
   - 0.05 ETH å¯æ‰§è¡Œçº¦ 100+ ä¸ªä»»åŠ¡

**å®‰å…¨æç¤º**ï¼š
- âš ï¸ åˆ‡å‹¿å°†åŒ…å«çœŸå®èµ„é‡‘çš„ç§é’¥æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
- âš ï¸ application.properties å·²æ·»åŠ åˆ° .gitignore
- âœ… å»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–é…ç½®ç®¡ç†å·¥å…·

### 4. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd backend
./mvnw spring-boot:run  # Linux/Mac
# æˆ–
.\mvnw.cmd spring-boot:run  # Windows
```

åç«¯å°†åœ¨ `http://localhost:8080` è¿è¡Œã€‚

**å¯åŠ¨æ—¥å¿—å…³é”®ä¿¡æ¯ï¼š**
```
Started IExecApplication in X.X seconds
Tomcat started on port 8080 (http) with context path '/api'
Starting TaskCreatedListener for contract: 0x5FbDB...
Initialized lastProcessedBlock to current block: XX
```

### 5. å¯åŠ¨å‰ç«¯æœåŠ¡

```bash
cd frontend
npm install  # é¦–æ¬¡è¿è¡Œéœ€è¦å®‰è£…ä¾èµ–
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` è¿è¡Œã€‚

---

## ğŸ”— è·¨é“¾æ¶æ„è¯´æ˜

é¡¹ç›®å®ç°äº† **æœ¬åœ°é“¾ + Arbitrum Sepolia** çš„è·¨é“¾è®¡ç®—æ¶æ„ï¼š

### å·¥ä½œæµç¨‹

```
ç”¨æˆ· â†’ æœ¬åœ°é“¾åˆ›å»ºä»»åŠ¡
       â†“
åç«¯ç›‘å¬TaskCreatedäº‹ä»¶
       â†“
æäº¤åˆ°Arbitrum Sepoliaæ‰§è¡Œ
       â†“
è·å–ç»“æœå¹¶æ›´æ–°æœ¬åœ°é“¾
       â†“
ä»»åŠ¡å®Œæˆ
```

### ä»»åŠ¡çŠ¶æ€æµè½¬

1. **Created** (åˆ›å»º): ä»»åŠ¡åœ¨æœ¬åœ°é“¾ä¸Šåˆ›å»º
2. **Processing** (å¤„ç†ä¸­): å·²æäº¤åˆ°Arbitrumï¼Œç­‰å¾…ç¡®è®¤
3. **Completed** (å®Œæˆ): Arbitrumäº¤æ˜“ç¡®è®¤ï¼Œç»“æœå·²è¿”å›

**å¤„ç†æ—¶é—´**: 
- æœ¬åœ°æ¨¡æ‹Ÿæ¨¡å¼: 15-20ç§’
- ArbitrumçœŸå®æ¨¡å¼: 1-3åˆ†é’Ÿï¼ˆå–å†³äºç½‘ç»œæ‹¥å µï¼‰

### æŸ¥çœ‹çœŸå®äº¤æ˜“

å½“ä»»åŠ¡æäº¤åˆ°Arbitrum Sepoliaæ—¶ï¼Œåç«¯æ—¥å¿—ä¼šæ˜¾ç¤ºï¼š

```
âœ… Arbitrum transaction sent successfully! TX Hash: 0x8c3a3f...
View on explorer: https://sepolia.arbiscan.io/tx/0x8c3a3f...
âœ… Arbitrum transaction confirmed! Block: 228816629
Gas used: 22040, Cumulative gas: 754272
```

è®¿é—® Arbiscan é“¾æ¥å¯æŸ¥çœ‹çœŸå®çš„åŒºå—é“¾äº¤æ˜“è¯¦æƒ…ã€‚

---

## ğŸ”§ MetaMask é…ç½®

### æ·»åŠ æœ¬åœ°ç½‘ç»œ

1. æ‰“å¼€ MetaMask
2. ç‚¹å‡»ç½‘ç»œä¸‹æ‹‰èœå• â†’ "æ·»åŠ ç½‘ç»œ" â†’ "æ‰‹åŠ¨æ·»åŠ ç½‘ç»œ"
3. å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š
   - **ç½‘ç»œåç§°**: Hardhat Local
   - **RPC URL**: http://localhost:8545
   - **é“¾ ID**: 31337
   - **è´§å¸ç¬¦å·**: ETH

### å¯¼å…¥æµ‹è¯•è´¦æˆ·

Hardhat æä¾› 20 ä¸ªé¢„ç½®æµ‹è¯•è´¦æˆ·ï¼Œæ¯ä¸ªè´¦æˆ·æœ‰ 10,000 ETHï¼š

**è´¦æˆ· #0ï¼ˆç®¡ç†å‘˜ï¼‰:**
- åœ°å€: `0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266`
- ç§é’¥: `0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80`

**è´¦æˆ· #1:**
- åœ°å€: `0x70997970C51812dc3A010C7d01b50e0d17dc79C8`
- ç§é’¥: `0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d`

åœ¨ MetaMask ä¸­ï¼š
1. ç‚¹å‡»è´¦æˆ·å›¾æ ‡ â†’ "å¯¼å…¥è´¦æˆ·"
2. ç²˜è´´ç§é’¥
3. ç¡®è®¤å¯¼å…¥

---

## ğŸ“¦ å·²æ³¨å†Œçš„æœåŠ¡

åˆçº¦éƒ¨ç½²æ—¶è‡ªåŠ¨æ³¨å†Œäº† 3 ä¸ªç®—åŠ›æœåŠ¡ï¼š

| æœåŠ¡ ID | ä»·æ ¼ | è¯´æ˜ |
|---------|------|------|
| 1 | 0.1 ETH | åŸºç¡€æœåŠ¡ |
| 2 | 0.5 ETH | æ ‡å‡†æœåŠ¡ |
| 3 | 1.0 ETH | é«˜çº§æœåŠ¡ |

---

## âš ï¸ å¸¸è§é—®é¢˜

### é—®é¢˜ 1: å‰ç«¯æ— æ³•è®¿é—®åç«¯API (CORSé”™è¯¯)

**é”™è¯¯ä¿¡æ¯**: `Access to XMLHttpRequest blocked by CORS policy`

**åŸå› **: è·¨åŸŸè¯·æ±‚è¢«æµè§ˆå™¨æ‹¦æˆªã€‚

**è§£å†³**: 
- é¡¹ç›®å·²é…ç½® `CorsConfig.java` å…è®¸æ‰€æœ‰æ¥æº
- ç¡®è®¤åç«¯æ­£å¸¸å¯åŠ¨å¹¶ç›‘å¬åœ¨ 8080 ç«¯å£
- æ£€æŸ¥å‰ç«¯ `.env` ä¸­çš„ `VITE_API_BASE_URL=http://localhost:8080/api`
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜å¹¶åˆ·æ–°é¡µé¢

### é—®é¢˜ 2: ä»»åŠ¡ç›´æ¥ä»Createdå˜ä¸ºCompletedï¼Œçœ‹ä¸åˆ°ProcessingçŠ¶æ€

**åŸå› **: è®¡ç®—æ—¶é—´è¿‡çŸ­æˆ–å‰ç«¯è½®è¯¢é—´éš”è¿‡é•¿ã€‚

**è§£å†³**:
- é¡¹ç›®å·²ä¼˜åŒ–ï¼šä»»åŠ¡åˆ›å»ºåç«‹å³æ›´æ–°ä¸ºProcessingçŠ¶æ€
- ProcessingçŠ¶æ€ä¼šæŒç»­15-20ç§’ï¼ˆæ¨¡æ‹Ÿæ¨¡å¼ï¼‰æˆ–1-3åˆ†é’Ÿï¼ˆArbitrumæ¨¡å¼ï¼‰
- å‰ç«¯æ¯3ç§’è‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡ä»»åŠ¡åˆ—è¡¨
- å¦‚æœä»ç„¶çœ‹ä¸åˆ°ï¼Œå¯èƒ½æ˜¯ç½‘ç»œå»¶è¿Ÿå¯¼è‡´çŠ¶æ€è·³è¿‡

### é—®é¢˜ 3: Arbitrumäº¤æ˜“å¤±è´¥ "max fee per gas less than block base fee"

**é”™è¯¯ä¿¡æ¯**: `maxFeePerGas: 20000000, baseFee: 20082000`

**åŸå› **: Gasä»·æ ¼è®¾ç½®è¿‡ä½ï¼Œæ— æ³•è¦†ç›–ç½‘ç»œåŸºç¡€è´¹ç”¨ã€‚

**è§£å†³**:
- âœ… é¡¹ç›®å·²ä¿®å¤ï¼šä½¿ç”¨EIP-1559äº¤æ˜“ç±»å‹
- âœ… è‡ªåŠ¨è®¡ç®— `maxFeePerGas = baseFee * 1.5 + priorityFee`
- âœ… Gasæ¶ˆè€—çº¦ 22,000 unitsï¼Œè´¹ç”¨çº¦ 0.0004 ETH
- å¦‚æœä»ç„¶å¤±è´¥ï¼Œæ£€æŸ¥é’±åŒ…ä½™é¢æ˜¯å¦å……è¶³

### é—®é¢˜ 4: é¡µé¢åˆ·æ–°åä»»åŠ¡åˆ—è¡¨ä¸ºç©º

**åŸå› **: é’±åŒ…è¿æ¥çŠ¶æ€æœªæ¢å¤æˆ–åˆçº¦æœåŠ¡æœªåˆå§‹åŒ–ã€‚

**è§£å†³**: 
- é¡µé¢ä¼šè‡ªåŠ¨å°è¯•æ¢å¤é’±åŒ…è¿æ¥
- å¦‚æœä»ç„¶ä¸ºç©ºï¼Œæ‰‹åŠ¨ç‚¹å‡»"è¿æ¥é’±åŒ…"æŒ‰é’®
- æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ç¡®è®¤æ˜¯å¦æœ‰é”™è¯¯æ—¥å¿—

### é—®é¢˜ 5: åˆçº¦è°ƒç”¨å¤±è´¥ "could not decode result data"

**åŸå› **: Hardhat èŠ‚ç‚¹é‡å¯ååˆçº¦åœ°å€å˜åŒ–ã€‚

**è§£å†³**:
1. é‡æ–°éƒ¨ç½²åˆçº¦ï¼š`npx hardhat run scripts/deploy.ts --network localhost`
2. æ›´æ–° `frontend/.env` å’Œ `backend/application.properties` ä¸­çš„åˆçº¦åœ°å€
3. é‡å¯å‰ç«¯å’Œåç«¯æœåŠ¡

### é—®é¢˜ 6: äº¤æ˜“æˆåŠŸä½†ä»»åŠ¡ä¸æ˜¾ç¤º

**åŸå› **: å‰ç«¯æŸ¥è¯¢è¿‡æ—©æˆ–åˆçº¦åœ°å€é…ç½®é”™è¯¯ã€‚

**è§£å†³**:
1. ç¡®è®¤ `.env` ä¸­çš„åˆçº¦åœ°å€ä¸éƒ¨ç½²è¾“å‡ºçš„åœ°å€ä¸€è‡´
2. åˆ·æ–°æµè§ˆå™¨é¡µé¢
3. ç‚¹å‡»"åˆ·æ–°"æŒ‰é’®æ‰‹åŠ¨æ›´æ–°ä»»åŠ¡åˆ—è¡¨
4. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ç¡®è®¤æ˜¯å¦ä»åŒºå—é“¾æ­£ç¡®è·å–æ•°æ®

### é—®é¢˜ 7: MetaMask æ˜¾ç¤ºé”™è¯¯çš„ä½™é¢

**åŸå› **: MetaMask ç¼“å­˜äº†æ—§çš„ç½‘ç»œæ•°æ®ã€‚

**è§£å†³**:
1. MetaMask è®¾ç½® â†’ é«˜çº§ â†’ "é‡ç½®è´¦æˆ·"
2. ç¡®è®¤æ“ä½œ
3. åˆ·æ–°é¡µé¢é‡æ–°è¿æ¥

### é—®é¢˜ 8: åç«¯æ—¥å¿—æ˜¾ç¤º "Falling back to mock mode"

**åŸå› **: Arbitrumäº¤æ˜“å¤±è´¥ï¼Œè‡ªåŠ¨å›é€€åˆ°æœ¬åœ°æ¨¡æ‹Ÿæ¨¡å¼ã€‚

**è§£å†³**:
1. æ£€æŸ¥ `arbitrum.sepolia.enabled=true` æ˜¯å¦é…ç½®
2. æ£€æŸ¥ Infura RPC URL æ˜¯å¦æ­£ç¡®
3. æ£€æŸ¥é’±åŒ…ç§é’¥æ ¼å¼ï¼ˆéœ€åŒ…å«0xå‰ç¼€ï¼‰
4. ç¡®è®¤é’±åŒ…åœ¨Arbitrum Sepoliaæœ‰è¶³å¤Ÿä½™é¢
5. æŸ¥çœ‹åç«¯æ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

### é—®é¢˜ 9: IPFSæŸ¥çœ‹æ˜¾ç¤º "500 Internal Server Error"

**åŸå› **: å½“å‰ç»“æœå“ˆå¸Œä¸æ˜¯çœŸå®çš„IPFS CIDæ ¼å¼ã€‚

**è¯´æ˜**:
- ç»“æœå“ˆå¸Œ `0x526573756c743a312b313d32` æ˜¯ "Result:1+1=2" çš„åå…­è¿›åˆ¶ç¼–ç 
- è¿™ä¸æ˜¯IPFSç½‘ç»œä¸Šçš„çœŸå®å†…å®¹æ ‡è¯†ç¬¦
- çœŸæ­£çš„IPFSå“ˆå¸Œæ ¼å¼ä¸º `QmXxx...` æˆ– `bafyxxx...`
- å½“å‰ç‰ˆæœ¬æš‚æœªé›†æˆçœŸå®IPFSå­˜å‚¨æœåŠ¡
- æœªæ¥å¯é›†æˆPinataæˆ–Web3.Storageæ¥å®ç°çœŸå®çš„IPFSä¸Šä¼ 

---

## ğŸ”„ é‡å¯å®Œæ•´æµç¨‹

å¦‚æœéœ€è¦é‡æ–°å¼€å§‹ï¼ˆæ¸…ç©ºæ‰€æœ‰æ•°æ®ï¼‰ï¼š

1. **åœæ­¢æ‰€æœ‰æœåŠ¡**ï¼ˆCtrl+Cï¼‰
   - Hardhat èŠ‚ç‚¹
   - åç«¯æœåŠ¡
   - å‰ç«¯æœåŠ¡

2. **é‡æ–°å¯åŠ¨ Hardhat èŠ‚ç‚¹**
   ```bash
   cd contracts
   npx hardhat node
   ```

3. **é‡æ–°éƒ¨ç½²åˆçº¦**ï¼ˆæ–°ç»ˆç«¯ï¼‰
   ```bash
   npx hardhat run scripts/deploy.ts --network localhost
   ```

4. **æ›´æ–°é…ç½®æ–‡ä»¶**
   - å°†æ–°çš„åˆçº¦åœ°å€æ›´æ–°åˆ° `frontend/.env` å’Œ `backend/application.properties`

5. **é‡å¯åç«¯å’Œå‰ç«¯**
   ```bash
   # åç«¯
   cd backend
   mvn spring-boot:run
   
   # å‰ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
   cd frontend
   npm run dev
   ```

6. **é‡ç½® MetaMask**
   - è®¾ç½® â†’ é«˜çº§ â†’ é‡ç½®è´¦æˆ·

---

## ğŸ“Š æ•°æ®æºè¯´æ˜

å½“å‰é…ç½®ä¸‹ï¼Œå‰ç«¯**ç›´æ¥ä»åŒºå—é“¾è¯»å–ä»»åŠ¡æ•°æ®**ï¼Œä¸ä¾èµ–åç«¯æ•°æ®åº“ï¼š

- âœ… ä¼˜ç‚¹ï¼šæ•°æ®å®æ—¶ã€å‡†ç¡®ï¼Œä¸éœ€è¦äº‹ä»¶ç›‘å¬å™¨
- âš ï¸ æ³¨æ„ï¼šå¦‚æœé“¾ä¸Šä»»åŠ¡æ•°é‡è¿‡å¤šï¼ˆ>100ï¼‰ï¼Œåªä¼šæŸ¥è¯¢æœ€è¿‘ 100 ä¸ªä»»åŠ¡

åç«¯ API ä½œä¸ºå¤‡é€‰æ–¹æ¡ˆï¼Œå½“åŒºå—é“¾æŸ¥è¯¢å¤±è´¥æ—¶ä¼šè‡ªåŠ¨åˆ‡æ¢ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### æ™ºèƒ½åˆçº¦å±‚
- **è¯­è¨€**: Solidity 0.8.28
- **æ¡†æ¶**: Hardhat
- **ç½‘ç»œ**: Hardhat Local (chainId: 31337)

### åç«¯æœåŠ¡
- **æ¡†æ¶**: Spring Boot 3.5.9
- **Javaç‰ˆæœ¬**: 21.0.7
- **åŒºå—é“¾äº¤äº’**: Web3j 4.12.3
- **æ•°æ®åº“**: H2 (å†…å­˜æ•°æ®åº“)
- **æ„å»ºå·¥å…·**: Maven

### å‰ç«¯åº”ç”¨
- **æ¡†æ¶**: Vue 3.5.25 + TypeScript
- **æ„å»ºå·¥å…·**: Vite 6.0.13
- **UIåº“**: Element Plus
- **åŒºå—é“¾äº¤äº’**: Ethers.js 6.16.0
- **HTTPå®¢æˆ·ç«¯**: Axios

### è·¨é“¾é›†æˆ
- **Layer 2**: Arbitrum Sepolia (chainId: 421614)
- **RPCæä¾›å•†**: Infura
- **äº¤æ˜“ç±»å‹**: EIP-1559 (Type 2)
- **åŒºå—æµè§ˆå™¨**: https://sepolia.arbiscan.io

---

## ğŸ“Š é¡¹ç›®æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ç”¨æˆ·ç•Œé¢ (Vue)                        â”‚
â”‚  - è¿æ¥MetaMask                                           â”‚
â”‚  - åˆ›å»ºä»»åŠ¡ (æœ¬åœ°é“¾)                                       â”‚
â”‚  - æŸ¥çœ‹ä»»åŠ¡åˆ—è¡¨å’ŒçŠ¶æ€                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Ethers.js
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Hardhat æœ¬åœ°é“¾ (localhost:8545)                  â”‚
â”‚  - ComputeMarket æ™ºèƒ½åˆçº¦                                 â”‚
â”‚  - è§¦å‘ TaskCreated äº‹ä»¶                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Web3j äº‹ä»¶ç›‘å¬
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Spring Boot åç«¯ (localhost:8080)               â”‚
â”‚  - TaskCreatedListener (ç›‘å¬äº‹ä»¶)                        â”‚
â”‚  - ArbitrumTaskService (è·¨é“¾æäº¤)                        â”‚
â”‚  - CORSé…ç½® (å…è®¸å‰ç«¯è®¿é—®)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ Web3j RPCè°ƒç”¨
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      Arbitrum Sepolia æµ‹è¯•ç½‘ (via Infura)                â”‚
â”‚  - æ‰§è¡ŒçœŸå®åŒºå—é“¾äº¤æ˜“                                      â”‚
â”‚  - Gasæ¶ˆè€—: ~22,000 units                                â”‚
â”‚  - ç¡®è®¤æ—¶é—´: 1-3åˆ†é’Ÿ                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚ äº¤æ˜“ç¡®è®¤å
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è¿”å›ç»“æœåˆ°æœ¬åœ°é“¾                              â”‚
â”‚  - è°ƒç”¨ completeTask()                                   â”‚
â”‚  - æ›´æ–°ä»»åŠ¡çŠ¶æ€ä¸º Completed                               â”‚
â”‚  - å­˜å‚¨è®¡ç®—ç»“æœå“ˆå¸Œ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” å®‰å…¨é…ç½®å»ºè®®

### å¼€å‘ç¯å¢ƒ
- âœ… ä½¿ç”¨Hardhaté¢„ç½®çš„æµ‹è¯•è´¦æˆ·
- âœ… ä½¿ç”¨ä¸“ç”¨çš„Arbitrum Sepoliaæµ‹è¯•é’±åŒ…
- âœ… application.propertieså·²åŠ å…¥.gitignore
- âš ï¸ ä¸è¦åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ç§é’¥

### ç”Ÿäº§ç¯å¢ƒï¼ˆæœªæ¥éƒ¨ç½²ï¼‰
- ğŸ”’ ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†æœåŠ¡
- ğŸ”’ å¯ç”¨HTTPSå’ŒCORSç™½åå•
- ğŸ”’ å®ç°ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- ğŸ”’ ä½¿ç”¨ç¡¬ä»¶é’±åŒ…æˆ–æ‰˜ç®¡æœåŠ¡ç­¾å
- ğŸ”’ å®æ–½Gasè´¹ç”¨é™åˆ¶å’Œç›‘æ§

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### äº¤æ˜“è´¹ç”¨ï¼ˆArbitrum Sepoliaï¼‰
- **Gas Limit**: 50,000
- **å®é™…Gasä½¿ç”¨**: ~22,000 (44%)
- **Gas Price**: åŠ¨æ€è®¡ç®— (baseFee Ã— 1.5 + priorityFee)
- **å•æ¬¡äº¤æ˜“æˆæœ¬**: 0.0004-0.001 ETH
- **0.05 ETHå¯æ‰§è¡Œ**: çº¦100-125ä¸ªä»»åŠ¡

### å“åº”æ—¶é—´
- **æœ¬åœ°é“¾äº¤æ˜“**: < 1ç§’
- **åç«¯APIå“åº”**: < 100ms
- **Arbitrumäº¤æ˜“ç¡®è®¤**: 1-3åˆ†é’Ÿ
- **å‰ç«¯è½®è¯¢é—´éš”**: 3ç§’

### ç³»ç»Ÿå®¹é‡
- **æœ¬åœ°é“¾TPS**: ~1000 (Hardhat)
- **Arbitrum TPS**: ~4000
- **H2æ•°æ®åº“**: å†…å­˜æ¨¡å¼ï¼Œæ— æŒä¹…åŒ–
- **å¹¶å‘ä»»åŠ¡**: ç†è®ºæ— é™åˆ¶ï¼ˆå—é’±åŒ…ä½™é¢é™åˆ¶ï¼‰

---

## ğŸ“ å¼€å‘å»ºè®®

1. **ä¿æŒ Hardhat èŠ‚ç‚¹æŒç»­è¿è¡Œ**ï¼Œé¿å…é¢‘ç¹é‡å¯å¯¼è‡´æ•°æ®ä¸¢å¤±
2. **ä½¿ç”¨ä¸åŒçš„æµ‹è¯•è´¦æˆ·**è¿›è¡Œäº¤æ˜“æµ‹è¯•ï¼Œä¾¿äºåŒºåˆ†ä»»åŠ¡æ‰€æœ‰è€…
3. **å¼€å¯æµè§ˆå™¨æ§åˆ¶å°**ï¼Œå®æ—¶æŸ¥çœ‹è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
4. **å®šæœŸæ¸…ç†æµ‹è¯•æ•°æ®**ï¼Œé‡å¯ Hardhat èŠ‚ç‚¹å³å¯æ¸…ç©ºæ‰€æœ‰é“¾ä¸Šæ•°æ®
5. **ç›‘æ§åç«¯æ—¥å¿—**ï¼Œç¡®è®¤Arbitrumäº¤æ˜“æ˜¯å¦æˆåŠŸå‘é€å’Œç¡®è®¤
6. **åˆç†ä½¿ç”¨æµ‹è¯•å¸**ï¼ŒArbitrum Sepoliaæ¯ä¸ªä»»åŠ¡çº¦æ¶ˆè€—0.0005 ETH
7. **é…ç½®Gitå¿½ç•¥**ï¼Œç¡®ä¿application.propertiesä¸è¢«æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶

---

## ğŸ§ª æµ‹è¯•æµç¨‹

### åŸºç¡€åŠŸèƒ½æµ‹è¯•

1. **è¿æ¥é’±åŒ…**: 
   - æ‰“å¼€ http://localhost:5173
   - ç‚¹å‡»"è¿æ¥é’±åŒ…"ï¼Œé€‰æ‹©Hardhat Localç½‘ç»œ
   - ç¡®è®¤è´¦æˆ·åœ°å€æ˜¾ç¤ºæ­£ç¡®

2. **åˆ›å»ºä»»åŠ¡**:
   - è¿›å…¥"ç®—åŠ›å¸‚åœº"é¡µé¢
   - é€‰æ‹©ä¸€ä¸ªæœåŠ¡ï¼ˆå¦‚åŸºç¡€æœåŠ¡ 0.1 ETHï¼‰
   - ç‚¹å‡»"è´­ä¹°æœåŠ¡"
   - MetaMaskç¡®è®¤äº¤æ˜“
   - ç­‰å¾…äº¤æ˜“ç¡®è®¤ï¼ˆçº¦1ç§’ï¼‰

3. **ç›‘æ§ä»»åŠ¡çŠ¶æ€**:
   - è¿›å…¥"æˆ‘çš„ä»»åŠ¡"é¡µé¢
   - ä»»åŠ¡åº”æ˜¾ç¤ºä¸º"Processing"çŠ¶æ€
   - åç«¯æ—¥å¿—åº”æ˜¾ç¤ºï¼š
     ```
     Task X saved to database with status: Created
     Task X status updated to Processing
     Submitting task X to Arbitrum Sepolia...
     Creating task on Arbitrum Sepolia for local task: X
     âœ… Arbitrum transaction sent successfully! TX Hash: 0x...
     ```

4. **ç¡®è®¤Arbitrumäº¤æ˜“**:
   - å¤åˆ¶åç«¯æ—¥å¿—ä¸­çš„äº¤æ˜“å“ˆå¸Œ
   - è®¿é—® https://sepolia.arbiscan.io/tx/[hash]
   - ç¡®è®¤äº¤æ˜“å·²ä¸Šé“¾å¹¶æˆåŠŸæ‰§è¡Œ
   - ç­‰å¾…1-3åˆ†é’Ÿ

5. **æŸ¥çœ‹å®Œæˆç»“æœ**:
   - è¿”å›å‰ç«¯"æˆ‘çš„ä»»åŠ¡"é¡µé¢
   - ä»»åŠ¡çŠ¶æ€æ›´æ–°ä¸º"Completed"
   - ç‚¹å‡»ä»»åŠ¡æŸ¥çœ‹è¯¦æƒ…
   - ç»“æœå“ˆå¸Œåº”ä¸º16è¿›åˆ¶æ ¼å¼ï¼ˆå¦‚ 0x526573756c743a312b313d32ï¼‰

### Arbitrumé›†æˆæµ‹è¯•

**å‡†å¤‡å·¥ä½œ**:
- ç¡®ä¿é’±åŒ…åœ¨Arbitrum Sepoliaæœ‰è‡³å°‘0.01 ETH
- é…ç½®æ­£ç¡®çš„Infura Project IDå’Œç§é’¥

**æµ‹è¯•æ­¥éª¤**:
1. åˆ›å»ºæ–°ä»»åŠ¡
2. è§‚å¯Ÿåç«¯æ—¥å¿—ï¼Œç¡®è®¤æ— "Falling back to mock mode"æ¶ˆæ¯
3. æŸ¥çœ‹Arbitrumäº¤æ˜“ç¡®è®¤
4. éªŒè¯Gasæ¶ˆè€—åœ¨åˆç†èŒƒå›´ï¼ˆ20,000-25,000ï¼‰
5. ç¡®è®¤æœ¬åœ°é“¾ä»»åŠ¡çŠ¶æ€æ­£ç¡®æ›´æ–°

**å›é€€æµ‹è¯•**:
- å…³é—­Arbitrumé…ç½®ï¼ˆ`arbitrum.sepolia.enabled=false`ï¼‰
- åˆ›å»ºä»»åŠ¡åº”ç«‹å³è¿›å…¥æ¨¡æ‹Ÿæ¨¡å¼
- 15-20ç§’åä»»åŠ¡å®Œæˆ

---

## ğŸ¯ ä¸‹ä¸€æ­¥

å®ŒæˆåŸºç¡€é…ç½®åï¼Œä½ å¯ä»¥ï¼š

1. âœ… **è®¿é—®å‰ç«¯ç•Œé¢** `http://localhost:5173`
2. âœ… **è¿æ¥ MetaMask é’±åŒ…**ï¼ˆä½¿ç”¨Hardhatæµ‹è¯•è´¦æˆ·ï¼‰
3. âœ… **åœ¨"ç®—åŠ›å¸‚åœº"é¡µé¢è´­ä¹°æœåŠ¡**
4. âœ… **åœ¨"æˆ‘çš„ä»»åŠ¡"é¡µé¢æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€å˜åŒ–**ï¼ˆCreated â†’ Processing â†’ Completedï¼‰
5. âœ… **ç‚¹å‡»ä»»åŠ¡æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯**
6. ğŸ”— **è®¿é—® Arbiscan æŸ¥çœ‹çœŸå®çš„åŒºå—é“¾äº¤æ˜“**
7. ğŸ“Š **ç›‘æ§åç«¯æ—¥å¿—äº†è§£è·¨é“¾å¤„ç†æµç¨‹**
8. ğŸ§ª **æµ‹è¯•ä¸åŒæœåŠ¡ä»·æ ¼å’Œå¤šä»»åŠ¡å¹¶å‘**

### å·²å®ç°çš„åŠŸèƒ½

- âœ… æ™ºèƒ½åˆçº¦éƒ¨ç½²å’ŒæœåŠ¡æ³¨å†Œ
- âœ… ç”¨æˆ·è¿æ¥é’±åŒ…å’Œè´­ä¹°æœåŠ¡
- âœ… æœ¬åœ°é“¾ä»»åŠ¡åˆ›å»ºå’Œäº‹ä»¶ç›‘å¬
- âœ… è·¨é“¾æäº¤ä»»åŠ¡åˆ°Arbitrum Sepolia
- âœ… çœŸå®åŒºå—é“¾äº¤æ˜“ï¼ˆEIP-1559ï¼‰
- âœ… äº¤æ˜“çŠ¶æ€ç›‘æ§å’Œç¡®è®¤
- âœ… ç»“æœè¿”å›å’Œæœ¬åœ°é“¾æ›´æ–°
- âœ… å‰ç«¯å®æ—¶çŠ¶æ€æ˜¾ç¤º
- âœ… CORSè·¨åŸŸè®¿é—®é…ç½®
- âœ… é”™è¯¯å¤„ç†å’Œæ¨¡æ‹Ÿæ¨¡å¼å›é€€

### å¾…ä¼˜åŒ–çš„åŠŸèƒ½

- â³ IPFSçœŸå®å­˜å‚¨é›†æˆï¼ˆå½“å‰ä¸ºæ¨¡æ‹Ÿï¼‰
- â³ ç”¨æˆ·è®¤è¯å’Œæˆæƒç³»ç»Ÿ
- â³ ä»»åŠ¡ä¼˜å…ˆçº§å’Œé˜Ÿåˆ—ç®¡ç†
- â³ æ›´ä¸°å¯Œçš„è®¡ç®—ç±»å‹æ”¯æŒ
- â³ Gasè´¹ç”¨ä¼˜åŒ–å’Œæ‰¹é‡å¤„ç†
- â³ å®æ—¶WebSocketæ¨é€
- â³ è¯¦ç»†çš„ç»Ÿè®¡å’Œåˆ†æé¢æ¿
- â³ å¤šé“¾æ”¯æŒï¼ˆOptimismã€Polygonç­‰ï¼‰

é¡¹ç›®å·²é…ç½®ä¸ºå¼€å‘æ¨¡å¼ï¼Œæ‰€æœ‰ä¿®æ”¹ä¼šè‡ªåŠ¨çƒ­é‡è½½ã€‚ç¥å¼€å‘æ„‰å¿«ï¼ğŸš€

---

## ğŸ“š ç›¸å…³èµ„æº

- **Hardhatæ–‡æ¡£**: https://hardhat.org/docs
- **Web3jæ–‡æ¡£**: https://docs.web3j.io
- **Ethers.jsæ–‡æ¡£**: https://docs.ethers.org
- **Arbitrumæ–‡æ¡£**: https://docs.arbitrum.io
- **Arbiscanæµè§ˆå™¨**: https://sepolia.arbiscan.io
- **InfuraæœåŠ¡**: https://infura.io
- **MetaMaskæŒ‡å—**: https://metamask.io/faqs

---

## ğŸ†˜ è·å–å¸®åŠ©

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·æŒ‰ä»¥ä¸‹é¡ºåºæ’æŸ¥ï¼š

1. **æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°**ï¼šå‰ç«¯é”™è¯¯ä¿¡æ¯
2. **æŸ¥çœ‹åç«¯æ—¥å¿—**ï¼šSpring Bootç»ˆç«¯è¾“å‡º
3. **æŸ¥çœ‹Hardhatæ—¥å¿—**ï¼šæœ¬åœ°é“¾äº¤æ˜“ä¿¡æ¯
4. **æŸ¥çœ‹Arbiscan**ï¼šArbitrumäº¤æ˜“çŠ¶æ€
5. **å‚è€ƒå¸¸è§é—®é¢˜ç« èŠ‚**ï¼šè§£å†³å·²çŸ¥é—®é¢˜
6. **é‡å¯æ‰€æœ‰æœåŠ¡**ï¼šæ¸…ç†ç¯å¢ƒé‡æ–°å¼€å§‹

**æ—¥å¿—ä½ç½®**ï¼š
- å‰ç«¯ï¼šæµè§ˆå™¨å¼€å‘è€…å·¥å…· Console
- åç«¯ï¼šè¿è¡Œ `mvnw spring-boot:run` çš„ç»ˆç«¯
- æœ¬åœ°é“¾ï¼šè¿è¡Œ `npx hardhat node` çš„ç»ˆç«¯

**å…³é”®æ—¥å¿—å…³é”®è¯**ï¼š
- `âœ…` - æˆåŠŸæ“ä½œ
- `âš ï¸` - è­¦å‘Šä¿¡æ¯
- `âŒ` - é”™è¯¯ä¿¡æ¯
- `Falling back to mock mode` - Arbitrumå¤±è´¥ï¼Œä½¿ç”¨æ¨¡æ‹Ÿ
- `TX Hash` - äº¤æ˜“å“ˆå¸Œï¼Œå¯åœ¨æµè§ˆå™¨æŸ¥è¯¢
